# ğŸš€ ä¸€é”®å®‰è£…å¼€å‘ç¯å¢ƒï¼ˆmacOS ä¸“ç”¨ï¼‰

> ä¸º macOS ç”¨æˆ·æä¾›çš„ä¸€é”®å¼å¼€å‘ç¯å¢ƒéƒ¨ç½²æ–¹æ¡ˆï¼ŒåŒ…å« Javaã€MySQLã€Redisã€RabbitMQã€Node.js å…¨æ ˆå¼€å‘æ‰€éœ€çš„æ‰€æœ‰æœåŠ¡ã€‚

---

## ğŸ“‹ ä½¿ç”¨å‰å‡†å¤‡

### 1ï¸âƒ£ å®‰è£… Docker Desktop

**Docker Desktop** æ˜¯è¿è¡Œæœ¬å¼€å‘ç¯å¢ƒçš„å¿…å¤‡å·¥å…·ã€‚

#### ä¸‹è½½å®‰è£…ï¼š

å¦‚æœæ‚¨è¿˜æœªå®‰è£… Docker Desktopï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. **ä¸‹è½½ Docker Desktop** ä»å®˜æ–¹ç½‘ç«™ï¼š
   - è®¿é—®ï¼šhttps://docs.docker.com/desktop/setup/install/mac-install/
   - æ ¹æ®æ‚¨çš„ Mac é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ï¼ˆApple Silicon æˆ– Intelï¼‰

2. **å®‰è£… Docker Desktop**ï¼š
   - æ‰“å¼€ä¸‹è½½çš„ `.dmg` æ–‡ä»¶
   - å°† Docker æ‹–æ‹½åˆ° Applications æ–‡ä»¶å¤¹
   - ä» Applications å¯åŠ¨ Docker Desktop
   - æŒ‰ç…§å®‰è£…å‘å¯¼å®Œæˆå®‰è£…

3. **éªŒè¯ Docker è¿è¡ŒçŠ¶æ€**ï¼š
   - æ£€æŸ¥èœå•æ ä¸­æ˜¯å¦å‡ºç° Docker å›¾æ ‡
   - å›¾æ ‡åº”æ˜¾ç¤º "Docker Desktop is running"

---

## âš¡ ä¸€é”®å®‰è£…

### ç»‘å®š CBbot Key

åœ¨å®‰è£…å‰ï¼Œéœ€è¦å…ˆç»‘å®šæ‚¨çš„ CBbot Keyã€‚

#### 1. è·å– CBbot Key

1. è®¿é—® [CodeBanana](https://www.codebanana.com)
2. ç™»å½•æ‚¨çš„è´¦å·
3. ç‚¹å‡»å³ä¸Šè§’çš„**ç”¨æˆ·å¤´åƒ**ï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© **"CBbot Key"**
4. å¤åˆ¶æ‚¨çš„ Key

![è·å– CBbot Key](https://oci-useast-backend-public.dupdub.com/subtitles/image/3c0f8dd9-7f91-484e-a383-6a00185d288f.png)

*å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨ç”¨æˆ·ä¸‹æ‹‰èœå•ä¸­æ‰¾åˆ° "CBbot Key" é€‰é¡¹*

#### 2. é…ç½®æ–‡ä»¶

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```bash
vim package/config/application.yml
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```yaml
user-key: {{CBbot key}}
ai-bot:
  fs:
    #app-id: {{appId}}
    #app-secret: {{appSecret}}
    subscribe: false
    #chat-id: {{chatId}}
    #sender-id: {{senderId}}
    #agent-id: {{agentId}}
```

**é…ç½®è¯´æ˜ï¼š**
- `user-key`: å¡«å…¥æ‚¨ä» CodeBanana è·å–çš„ CBbot Key
- `ai-bot.fs.subscribe`: è®¾ç½®ä¸º `false`ï¼ˆå¦‚éœ€å¯ç”¨é£ä¹¦æœºå™¨äººï¼Œè¯·å‚è€ƒ"é«˜çº§åŠŸèƒ½"ç« èŠ‚ï¼‰
- å…¶ä»–å¸¦ `#` çš„é…ç½®é¡¹ä¸ºå¯é€‰é…ç½®ï¼Œæ ¹æ®éœ€è¦å¯ç”¨

### âš ï¸ é‡è¦æç¤ºï¼ˆä¸­å›½å¤§é™†ç”¨æˆ·ï¼‰

å¦‚æœæ‚¨æ˜¯**ä¸­å›½å¤§é™†ç”¨æˆ·**å¹¶éœ€è¦ä½¿ç”¨**æµ·å¤–æ¨¡å‹**ï¼Œè¯·ç¡®ä¿å·²å¼€å¯ VPNï¼Œå¹¶å°† VPN ä»£ç†ç«¯å£å·å¯¼å…¥ç¯å¢ƒå˜é‡ã€‚

#### é…ç½®ä»£ç†ç¯å¢ƒå˜é‡ï¼š

åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæ ¹æ®æ‚¨çš„ VPN ç«¯å£å·è‡ªè¡Œè°ƒæ•´ï¼‰ï¼š

```bash
export https_proxy=http://127.0.0.1:7890
export http_proxy=http://127.0.0.1:7890
export all_proxy=socks5://127.0.0.1:7890
```

**è¯´æ˜ï¼š**
- `7890` æ˜¯å¸¸è§çš„ VPN ä»£ç†ç«¯å£ï¼Œè¯·æ ¹æ®æ‚¨çš„ VPN å®é™…ç«¯å£å·ä¿®æ”¹
- å¸¸è§ç«¯å£å·ï¼š`7890`ã€`1080`ã€`8080` ç­‰
- è®¾ç½®åï¼ŒDocker å®¹å™¨å†…çš„æœåŠ¡å¯ä»¥é€šè¿‡ä»£ç†è®¿é—®æµ·å¤– API

#### éªŒè¯ä»£ç†è®¾ç½®ï¼š

```bash
echo $https_proxy
# åº”æ˜¾ç¤º: http://127.0.0.1:7890
```

### æ‰§è¡Œå®‰è£…

ç¡®ä¿ Docker Desktop æ­£åœ¨è¿è¡Œåï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œï¼š

```bash
bash install.sh
```

### å®‰è£…è¿‡ç¨‹è¯´æ˜ï¼š

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š

1. âœ… æ£€æŸ¥ Docker æ˜¯å¦è¿è¡Œ
2. ğŸ“¦ æ„å»º Docker é•œåƒï¼š
3. ğŸš€ å¯åŠ¨å®¹å™¨å¹¶åˆå§‹åŒ–æ‰€æœ‰æœåŠ¡
4. â³ é¢„è®¡è€—æ—¶ï¼š1-5 åˆ†é’Ÿï¼ˆå–å†³äºç½‘ç»œé€Ÿåº¦ï¼‰

---

## ğŸ¯ æœåŠ¡è®¿é—®

å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®å„æœåŠ¡ï¼š
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3100

---

## ğŸ§  æ™ºèƒ½æŠ€èƒ½ç³»ç»Ÿ

CBbot å†…ç½®äº†å¼ºå¤§çš„æ™ºèƒ½æŠ€èƒ½ç³»ç»Ÿï¼Œä¸ºæ‚¨æä¾›å¤šé¢†åŸŸçš„ä¸“ä¸šèƒ½åŠ›æ”¯æŒã€‚

### ğŸ“š æ–‡æ¡£å¤„ç†æŠ€èƒ½

#### **docx** - Word æ–‡æ¡£å¤„ç†
- **åŠŸèƒ½**ï¼šåˆ›å»ºã€ç¼–è¾‘å’Œåˆ†æ Word æ–‡æ¡£
- **ç‰¹è‰²**ï¼šæ”¯æŒä¿®è®¢è·Ÿè¸ªã€è¯„è®ºç®¡ç†ã€æ ¼å¼ä¿ç•™
- **ä½¿ç”¨åœºæ™¯**ï¼šæŠ¥å‘Šç”Ÿæˆã€æ–‡æ¡£åä½œã€å†…å®¹åˆ†æ
- **ç¤ºä¾‹**ï¼š"åˆ›å»ºä¸€ä»½é¡¹ç›®æŠ¥å‘Š" / "åˆ†æåˆåŒæ–‡æ¡£å†…å®¹"

#### **pptx** - æ¼”ç¤ºæ–‡ç¨¿å¤„ç†  
- **åŠŸèƒ½**ï¼šæ¼”ç¤ºæ–‡ç¨¿çš„åˆ›å»ºã€ç¼–è¾‘å’Œåˆ†æ
- **ç‰¹è‰²**ï¼šæ”¯æŒå¸ƒå±€è®¾è®¡ã€å¹»ç¯ç‰‡ç®¡ç†ã€å¤‡æ³¨æ·»åŠ 
- **ä½¿ç”¨åœºæ™¯**ï¼šå•†ä¸šæ¼”ç¤ºã€æ•™å­¦è¯¾ä»¶ã€æ±‡æŠ¥ææ–™
- **ç¤ºä¾‹**ï¼š"åˆ¶ä½œäº§å“å‘å¸ƒä¼šPPT" / "ä¼˜åŒ–æ¼”ç¤ºæ–‡ç¨¿è®¾è®¡"

#### **xlsx** - ç”µå­è¡¨æ ¼å¤„ç†
- **åŠŸèƒ½**ï¼šç”µå­è¡¨æ ¼çš„åˆ›å»ºã€ç¼–è¾‘å’Œæ•°æ®åˆ†æ
- **ç‰¹è‰²**ï¼šæ”¯æŒå¤æ‚å…¬å¼ã€æ•°æ®å¯è§†åŒ–ã€æ ¼å¼åŒ–å¤„ç†
- **ä½¿ç”¨åœºæ™¯**ï¼šæ•°æ®åˆ†æã€è´¢åŠ¡æŠ¥è¡¨ã€é¡¹ç›®ç®¡ç†
- **ç¤ºä¾‹**ï¼š"ç”Ÿæˆé”€å”®æ•°æ®å›¾è¡¨" / "è®¡ç®—è´¢åŠ¡æŒ‡æ ‡"

#### **pdf** - PDF æ–‡æ¡£æ“ä½œ
- **åŠŸèƒ½**ï¼šPDF æ–‡æ¡£çš„åˆ›å»ºã€ç¼–è¾‘å’Œå†…å®¹æå–
- **ç‰¹è‰²**ï¼šæ–‡æœ¬æå–ã€è¡¨æ ¼å¤„ç†ã€æ–‡æ¡£åˆå¹¶åˆ†å‰²ã€è¡¨å•å¡«å†™
- **ä½¿ç”¨åœºæ™¯**ï¼šæ–‡æ¡£å½’æ¡£ã€ä¿¡æ¯æå–ã€è¡¨å•å¤„ç†
- **ç¤ºä¾‹**ï¼š"æå–PDFä¸­çš„è¡¨æ ¼æ•°æ®" / "åˆå¹¶å¤šä¸ªPDFæ–‡ä»¶"

### ğŸ”§ ç³»ç»Ÿè‡ªåŠ¨åŒ–æŠ€èƒ½

#### **macos-automation** - macOS ç³»ç»Ÿè‡ªåŠ¨åŒ–
- **åŠŸèƒ½**ï¼šmacOS ç³»ç»Ÿçš„è‡ªåŠ¨åŒ–æ“ä½œå’Œæ§åˆ¶
- **ç‰¹è‰²**ï¼šä½¿ç”¨ AppleScript è¿›è¡Œç³»ç»Ÿçº§æ“ä½œ
- **ä½¿ç”¨åœºæ™¯**ï¼šé‚®ä»¶å‘é€ã€æ–‡ä»¶ç®¡ç†ã€åº”ç”¨æ§åˆ¶ã€ç³»ç»Ÿè®¾ç½®
- **ç¤ºä¾‹**ï¼š"å‘é€é‚®ä»¶ç»™å›¢é˜Ÿ" / "æ‰¹é‡æ•´ç†æ¡Œé¢æ–‡ä»¶" / "æ§åˆ¶éŸ³ä¹æ’­æ”¾"

### ğŸ› ï¸ å¼€å‘ç®¡ç†æŠ€èƒ½

#### **codebanana-skill-guide** - æŠ€èƒ½å¼€å‘ç®¡ç†
- **åŠŸèƒ½**ï¼šæŠ€èƒ½ç³»ç»Ÿçš„å¼€å‘å’Œç®¡ç†
- **ç‰¹è‰²**ï¼šå®Œæ•´çš„æŠ€èƒ½è§„èŒƒï¼Œæ”¯æŒæŠ€èƒ½çš„å¢åˆ æ”¹æŸ¥æ“ä½œ
- **ä½¿ç”¨åœºæ™¯**ï¼šè‡ªå®šä¹‰æŠ€èƒ½å¼€å‘ã€æŠ€èƒ½ç®¡ç†ã€åŠŸèƒ½æ‰©å±•
- **ç¤ºä¾‹**ï¼š"åˆ›å»ºæ–°çš„æ•°æ®å¤„ç†æŠ€èƒ½" / "æ›´æ–°ç°æœ‰æŠ€èƒ½é…ç½®"

### ğŸ’¡ å¦‚ä½•ä½¿ç”¨æŠ€èƒ½

åœ¨ä¸ CBbot å¯¹è¯æ—¶ï¼Œåªéœ€è¦æè¿°æ‚¨çš„éœ€æ±‚ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«å¹¶è°ƒç”¨ç›¸åº”çš„æŠ€èƒ½ï¼š

```
ç”¨æˆ·ï¼š"å¸®æˆ‘åˆ›å»ºä¸€ä¸ªé¡¹ç›®è¿›åº¦æ±‡æŠ¥çš„PPT"
CBbotï¼šè‡ªåŠ¨è°ƒç”¨ pptx æŠ€èƒ½ï¼Œç”Ÿæˆä¸“ä¸šçš„æ¼”ç¤ºæ–‡ç¨¿

ç”¨æˆ·ï¼š"åˆ†æè¿™ä¸ªExcelæ–‡ä»¶ä¸­çš„é”€å”®æ•°æ®"
CBbotï¼šè‡ªåŠ¨è°ƒç”¨ xlsx æŠ€èƒ½ï¼Œè¿›è¡Œæ•°æ®åˆ†æå’Œå¯è§†åŒ–

ç”¨æˆ·ï¼š"å‘é€é‚®ä»¶é€šçŸ¥é¡¹ç›®å»¶æœŸ"
CBbotï¼šè‡ªåŠ¨è°ƒç”¨ macos-automation æŠ€èƒ½ï¼Œå‘é€ç³»ç»Ÿé‚®ä»¶
```

### ğŸš€ æŠ€èƒ½æ‰©å±•

CBbot çš„æŠ€èƒ½ç³»ç»Ÿæ”¯æŒæ‰©å±•ï¼Œæ‚¨å¯ä»¥ï¼š
- **ä½¿ç”¨ç°æœ‰æŠ€èƒ½**ï¼šç›´æ¥è°ƒç”¨å†…ç½®çš„ä¸“ä¸šæŠ€èƒ½
- **å®šåˆ¶æŠ€èƒ½é…ç½®**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´æŠ€èƒ½å‚æ•°
- **å¼€å‘æ–°æŠ€èƒ½**ï¼šä½¿ç”¨ codebanana-skill-guide åˆ›å»ºè‡ªå®šä¹‰æŠ€èƒ½

> **æç¤º**ï¼šæŠ€èƒ½ç³»ç»Ÿä¼šæ ¹æ®æ‚¨çš„è¾“å…¥è‡ªåŠ¨åŒ¹é…æœ€åˆé€‚çš„å¤„ç†æ–¹å¼ï¼Œæ— éœ€æ‰‹åŠ¨æŒ‡å®šæŠ€èƒ½åç§°ã€‚

## â“ å¸¸è§é—®é¢˜

### 1. æç¤º "Docker daemon is not running"

**è§£å†³æ–¹æ¡ˆ**ï¼š
- æ‰“å¼€ Docker Desktop åº”ç”¨
- ç­‰å¾…é¡¶éƒ¨èœå•æ çš„ Docker å›¾æ ‡å˜ä¸ºæ­£å¸¸çŠ¶æ€
- é‡æ–°è¿è¡Œ `bash install.sh`

### 2. ç«¯å£è¢«å ç”¨ï¼ˆå¦‚ 3306ã€6379ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨æƒ…å†µ
lsof -i :3306

# åœæ­¢å ç”¨ç«¯å£çš„æœåŠ¡
sudo kill -9 <PID>

# æˆ–ä¿®æ”¹ docker-compose.yml ä¸­çš„ç«¯å£æ˜ å°„
```

## ğŸ“ ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šmacOS Sequoia 15.3.1 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Docker**ï¼šå¿…é¡»å®‰è£…å¹¶è¿è¡Œ Docker Desktop for Mac

---

## ğŸ”§ é«˜çº§åŠŸèƒ½

### é…ç½®é£ä¹¦æœºå™¨äºº

#### 1. åˆ›å»ºé£ä¹¦æœºå™¨äºº

1. è®¿é—® [é£ä¹¦å¼€æ”¾å¹³å°](https://open.feishu.cn/app?lang=zh-CN) åˆ›å»ºåº”ç”¨
2. æ·»åŠ åº”ç”¨èƒ½åŠ›ï¼š**æœºå™¨äºº**

#### 2. é…ç½®æœºå™¨äºº

**è·å–å‡­è¯ä¿¡æ¯ï¼š**

åœ¨ **å‡­è¯ä¸åŸºç¡€ä¿¡æ¯** é¡µé¢å¤åˆ¶ `App ID` å’Œ `App Secret`

**ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š**

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```bash
vim package/config/application.yml
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```yaml
user-key: {{CBbot key}}
ai-bot:
  fs:
    app-id: {{appId}}
    app-secret: {{appSecret}}
    subscribe: true
    #chat-id: {{chatId}}
    #sender-id: {{senderId}}
    #agent-id: {{agentId}}
```

**é…ç½®è¯´æ˜ï¼š**
- `user-key`: å¿…å¡«ï¼Œå¡«å…¥æ‚¨çš„ CBbot Key
- `app-id`: å¿…å¡«ï¼Œé£ä¹¦åº”ç”¨çš„ App ID
- `app-secret`: å¿…å¡«ï¼Œé£ä¹¦åº”ç”¨çš„ App Secret
- `subscribe`: å¿…å¡«ï¼Œè®¾ç½®ä¸º `true` å¯ç”¨é£ä¹¦æœºå™¨äºº
- `chat-id`: å¯é€‰ï¼ŒæŒ‡å®šèŠå¤©ç¾¤ç»„ ID
- `sender-id`: å¯é€‰ï¼Œå‘é€è€… ID
- `agent-id`: å¯é€‰ï¼Œæ™ºèƒ½ä½“ ID

**è·å–å¯é€‰é…ç½®é¡¹ï¼ˆchat-id, sender-id, agent-idï¼‰ï¼š**

å¦‚éœ€é…ç½®è¿™äº›å¯é€‰é¡¹ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ï¼š

1. **è·å– chat-id**ï¼š
   - åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:3100
   - åœ¨é¡¹ç›®é¡µé¢ä¸­æŸ¥çœ‹ `chatId` å‚æ•°å€¼

   ![è·å– chat-id](https://oci-useast-backend-public.dupdub.com/subtitles/image/f650fc41-b3e2-401f-bcfd-d8cf48b0663a.png)

   *å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒchatId æ˜¾ç¤ºåœ¨æµè§ˆå™¨åœ°å€æ çš„ URL å‚æ•°ä¸­*

2. **è·å– sender-id å’Œ agent-id**ï¼š
   - åœ¨ CodeBanana å¹³å°ä¸­ï¼Œç‚¹å‡»ç”¨æˆ·èœå•ä¸­çš„ **"CBbot Key"**
   - åœ¨å¼¹å‡ºçš„é…ç½®çª—å£ä¸­å¯ä»¥çœ‹åˆ° `Sender-ID` å’Œ `Agent-ID`
   - ç‚¹å‡»å¯¹åº”çš„**å¤åˆ¶æŒ‰é’®**å³å¯å¤åˆ¶

   ![è·å– sender-id å’Œ agent-id](https://oci-useast-backend-public.dupdub.com/subtitles/image/508465ae-8838-4b53-ba56-ff27e7d9af3b.png)

   *å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨ CBbot Key é…ç½®çª—å£ä¸­å¯ä»¥æ‰¾åˆ° Sender-ID å’Œ Agent-ID*

**é‡å¯æœåŠ¡ï¼š**

```bash
docker compose restart
```

#### 3. è®¾ç½®æƒé™

1. **äº‹ä»¶ä¸å›è°ƒ**ï¼šè®¢é˜…æ–¹å¼é…ç½®æˆ **é•¿è¿æ¥**
2. **è®¢é˜…æ¶ˆæ¯**ï¼šè®¢é˜…éœ€è¦çš„æ¶ˆæ¯ç±»å‹
3. **æƒé™ç®¡ç†**ï¼šæ·»åŠ  **å‘é€æ¶ˆæ¯** çš„æƒé™
4. **åˆ›å»ºç‰ˆæœ¬**ï¼šå‘å¸ƒåº”ç”¨ç‰ˆæœ¬

### é…ç½® Telegram æœºå™¨äºº

#### 1. åˆ›å»º Telegram æœºå™¨äºº

1. åœ¨ Telegram ä¸­æœç´¢ [@BotFather](https://t.me/botfather)
2. å‘é€ `/newbot` å‘½ä»¤åˆ›å»ºæ–°æœºå™¨äºº
3. æŒ‰æç¤ºè®¾ç½®æœºå™¨äººåç§°å’Œç”¨æˆ·å
4. åˆ›å»ºæˆåŠŸåï¼ŒBotFather ä¼šè¿”å›æ‚¨çš„æœºå™¨äºº Token

#### 2. é…ç½®æœºå™¨äºº

**è·å–å‡­è¯ä¿¡æ¯ï¼š**

- **Token**: ä» BotFather è·å–çš„æœºå™¨äººè®¿é—®ä»¤ç‰Œ
- **Username**: æ‚¨è®¾ç½®çš„æœºå™¨äººç”¨æˆ·åï¼ˆä¾‹å¦‚ï¼š`amy_cmww_bot`ï¼‰

**ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š**

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```bash
vim package/config/application.yml
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```yaml
user-key: {{CBbot key}}
ai-bot:
  telegram:
    subscribe: true
    username: {{your_bot_username}}
    token: {{your_bot_token}}
    #chat-id: {{chatId}}
    #sender-id: {{senderId}}
    #agent-id: {{agentId}}
```

**é…ç½®è¯´æ˜ï¼š**
- `user-key`: å¿…å¡«ï¼Œå¡«å…¥æ‚¨çš„ CBbot Key
- `username`: å¿…å¡«ï¼ŒTelegram æœºå™¨äººçš„ç”¨æˆ·åï¼ˆä¾‹å¦‚ï¼š`amy_cmww_bot`ï¼‰
- `token`: å¿…å¡«ï¼Œä» BotFather è·å–çš„æœºå™¨äºº Token
- `subscribe`: å¿…å¡«ï¼Œè®¾ç½®ä¸º `true` å¯ç”¨ Telegram æœºå™¨äºº
- `chat-id`: å¯é€‰ï¼ŒæŒ‡å®šèŠå¤©ä¼šè¯ ID
- `sender-id`: å¯é€‰ï¼Œå‘é€è€… ID
- `agent-id`: å¯é€‰ï¼Œæ™ºèƒ½ä½“ ID

**è·å–å¯é€‰é…ç½®é¡¹ï¼ˆchat-id, sender-id, agent-idï¼‰ï¼š**

å¦‚éœ€é…ç½®è¿™äº›å¯é€‰é¡¹ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ï¼š

1. **è·å– chat-id**ï¼š
   - åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:3100
   - åœ¨é¡¹ç›®é¡µé¢ä¸­æŸ¥çœ‹ `chatId` å‚æ•°å€¼

2. **è·å– sender-id å’Œ agent-id**ï¼š
   - åœ¨ CodeBanana å¹³å°ä¸­ï¼Œç‚¹å‡»ç”¨æˆ·èœå•ä¸­çš„ **"CBbot Key"**
   - åœ¨å¼¹å‡ºçš„é…ç½®çª—å£ä¸­å¯ä»¥çœ‹åˆ° `Sender-ID` å’Œ `Agent-ID`
   - ç‚¹å‡»å¯¹åº”çš„**å¤åˆ¶æŒ‰é’®**å³å¯å¤åˆ¶

**é‡å¯æœåŠ¡ï¼š**

```bash
docker compose restart
```

### é…ç½® Discord æœºå™¨äºº

#### 1. åˆ›å»º Discord æœºå™¨äºº

1. è®¿é—® [Discord Developer Portal](https://discord.com/developers/applications)
2. ç‚¹å‡» **"New Application"** åˆ›å»ºæ–°åº”ç”¨
3. åœ¨å·¦ä¾§èœå•é€‰æ‹© **"Bot"**ï¼Œç‚¹å‡» **"Add Bot"**
4. åœ¨ **"TOKEN"** éƒ¨åˆ†ç‚¹å‡» **"Reset Token"** æˆ– **"Copy"** è·å–æœºå™¨äºº Token
5. å¼€å¯å¿…è¦çš„æƒé™ï¼š**MESSAGE CONTENT INTENT**
6. åœ¨ **"OAuth2 > URL Generator"** ä¸­ç”Ÿæˆé‚€è¯·é“¾æ¥ï¼Œå°†æœºå™¨äººæ·»åŠ åˆ°æ‚¨çš„æœåŠ¡å™¨

#### 2. é…ç½®æœºå™¨äºº

**è·å–å‡­è¯ä¿¡æ¯ï¼š**

- **Token**: ä» Discord Developer Portal è·å–çš„æœºå™¨äººè®¿é—®ä»¤ç‰Œ

**ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š**

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```bash
vim package/config/application.yml
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```yaml
user-key: {{CBbot key}}
ai-bot:
  discord:
    subscribe: true
    token: {{your_bot_token}}
    #chat-id: {{chatId}}
    #sender-id: {{senderId}}
    #agent-id: {{agentId}}
```

**é…ç½®è¯´æ˜ï¼š**
- `user-key`: å¿…å¡«ï¼Œå¡«å…¥æ‚¨çš„ CBbot Key
- `token`: å¿…å¡«ï¼Œä» Discord Developer Portal è·å–çš„æœºå™¨äºº Token
- `subscribe`: å¿…å¡«ï¼Œè®¾ç½®ä¸º `true` å¯ç”¨ Discord æœºå™¨äºº
- `chat-id`: å¯é€‰ï¼ŒæŒ‡å®šèŠå¤©é¢‘é“ ID
- `sender-id`: å¯é€‰ï¼Œå‘é€è€… ID
- `agent-id`: å¯é€‰ï¼Œæ™ºèƒ½ä½“ ID

**è·å–å¯é€‰é…ç½®é¡¹ï¼ˆchat-id, sender-id, agent-idï¼‰ï¼š**

å¦‚éœ€é…ç½®è¿™äº›å¯é€‰é¡¹ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ï¼š

1. **è·å– chat-id**ï¼š
   - åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://localhost:3100
   - åœ¨é¡¹ç›®é¡µé¢ä¸­æŸ¥çœ‹ `chatId` å‚æ•°å€¼

2. **è·å– sender-id å’Œ agent-id**ï¼š
   - åœ¨ CodeBanana å¹³å°ä¸­ï¼Œç‚¹å‡»ç”¨æˆ·èœå•ä¸­çš„ **"CBbot Key"**
   - åœ¨å¼¹å‡ºçš„é…ç½®çª—å£ä¸­å¯ä»¥çœ‹åˆ° `Sender-ID` å’Œ `Agent-ID`
   - ç‚¹å‡»å¯¹åº”çš„**å¤åˆ¶æŒ‰é’®**å³å¯å¤åˆ¶

**é‡å¯æœåŠ¡ï¼š**

```bash
docker compose restart
```

---

## ğŸ’° å¦‚ä½•è®¡è´¹

CBbot éœ€è¦ç»‘å®š **CodeBanana** è´¦å·æ‰èƒ½ä½¿ç”¨ï¼Œè´¹ç”¨ä»æ‚¨çš„ CodeBanana è´¦å·ä¸­æ‰£é™¤ã€‚

### è´¦å·ç»‘å®š

1. è®¿é—® [CodeBanana å®˜ç½‘](https://www.codebanana.com) æ³¨å†Œå¹¶ç™»å½•
2. è·å–æ‚¨çš„ **userKey**ï¼ˆåœ¨è´¦å·è®¾ç½®ä¸­ï¼‰
3. åœ¨ CBbot ä¸­ç»‘å®š userKey

### è®¡è´¹è¯´æ˜

- **è®¡è´¹æ–¹å¼**ï¼šæŒ‰å®é™…ä½¿ç”¨é‡è®¡è´¹
- **æ‰£è´¹æ¥æº**ï¼šä» userKey å¯¹åº”ç”¨æˆ·çš„è´¦å·ä¸­æ‰£é™¤
- **æ‰£è´¹é¡¹ç›®**ï¼š
  - **è¯·æ±‚é¢åº¦**ï¼šæ¯æ¬¡ API è°ƒç”¨æ¶ˆè€—ç›¸åº”çš„è¯·æ±‚æ¬¡æ•°
  - **é‡‘é¢é¢åº¦**ï¼šæ ¹æ®ä½¿ç”¨çš„æ¨¡å‹å’Œèµ„æºæ¶ˆè€—å¯¹åº”é‡‘é¢

### æŸ¥çœ‹è´¦å•

ç™»å½• [CodeBanana](https://www.codebanana.com) è´¦å·ï¼Œå¯å®æ—¶æŸ¥çœ‹ï¼š
- å‰©ä½™è¯·æ±‚é¢åº¦
- å‰©ä½™é‡‘é¢é¢åº¦
- è¯¦ç»†ä½¿ç”¨è®°å½•

---

**ç¥å¼€å‘æ„‰å¿«ï¼** ğŸ‰